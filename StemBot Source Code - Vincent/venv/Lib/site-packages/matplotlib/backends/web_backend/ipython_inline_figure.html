<!-- Within the kernel, we don't know the address of the matplotlib
     websocket server, so we have to get in client-side and fetch our
     resources that way. -->
<script>
  // We can't proceed until these Javascript files are fetched, so
  // we fetch them synchronously
  $.ajaxSetup({async: false});
  $.getScript("http://" + window.location.hostname + ":{{ port }}{{prefix}}/_static/js/mpl_tornado.js");
  $.getScript("http://" + window.location.hostname + ":{{ port }}{{prefix}}/js/mpl.js");
  $.ajaxSetup({async: true});

  function init_figure{{ fig_id }}(e) {
    $('div.output').off('resize');

    var output_div = e.target.querySelector('div.output_subarea');
    var websocket_type = mpl.get_websocket_type();
    var websocket = new websocket_type(
        "ws://" + window.location.hostname + ":{{ port }}{{ prefix}}/" +
        {{ repr(str(fig_id)) }} + "/ws");

    var fig = new mpl.figure(
        {{repr(str(fig_id))}}, websocket, mpl_ondownload, output_div);

    // Fetch the first image
    fig.context.drawImage(fig.imageObj, 0, 0);

    fig.focus_on_mouseover = true;
  }

  // We can't initialize the figure contents until our content
  // has been added to the DOM.  This is a bit of hack to get an
  // event for that.
  $('div.output').resize(init_figure{{ fig_id }});
</script>
<html xmlns:mso="urn:schemas-microsoft-com:office:office" xmlns:msdt="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882"><head>
<!--[if gte mso 9]><xml>
<mso:CustomDocumentProperties>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor msdt:dt="string">Jasani-Draper, Kyan</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Editor>
<mso:Order msdt:dt="string">1215600.00000000</mso:Order>
<mso:ComplianceAssetId msdt:dt="string"></mso:ComplianceAssetId>
<mso:_ExtendedDescription msdt:dt="string"></mso:_ExtendedDescription>
<mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author msdt:dt="string">Jasani-Draper, Kyan</mso:display_urn_x003a_schemas-microsoft-com_x003a_office_x003a_office_x0023_Author>
<mso:TriggerFlowInfo msdt:dt="string"></mso:TriggerFlowInfo>
<mso:ContentTypeId msdt:dt="string">0x0101004CAF2FFBD9A69A4B9278918B0598143F</mso:ContentTypeId>
<mso:_SourceUrl msdt:dt="string"></mso:_SourceUrl>
<mso:_SharedFileIndex msdt:dt="string"></mso:_SharedFileIndex>
</mso:CustomDocumentProperties>
</xml><![endif]-->
<title></title></head>